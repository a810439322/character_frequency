# 字频统计工具

### author：虎新2群-也无风雨也无晴

## 功能说明
该工具用于形码用户选看打书籍使用，可大致了解一本书的看打难度

## 统计指标
1. **字种丰富度(TTR)** - 衡量用字多样性
2. **用字均匀度** - 衡量各字使用是否平均
3. **字频集中度** - 衡量对常用字的依赖程度
4. **高频字覆盖率** - 前N个字覆盖多少文本
5. **累积覆盖率** - 覆盖X%文本需要多少字
6. **字频梯度** - 高频字之间的倍数关系
7. **高频字分析** - 最常用字统计
8. **低频字分析** - 生僻字使用情况

## 文件说明
- `字频统计.py` - 主程序
- `dict_simple.txt` - 字序字典（9万+汉字）
- `打包.py` - 打包脚本
- `精简dict.py` - 字典精简工具（已使用，无需再运行）

## 使用方法

### 方式一：直接运行Python脚本
```bash
cd 字频统计
python 字频统计.py
```

### 方式二：运行我打好的exe(推荐，可连接至公共库查询数据)

#### 1. 安装PyInstaller
```bash
pip install pyinstaller
```

#### 2. 运行打包脚本
```bash
cd 字频统计
python 打包.py
```

#### 3. 使用生成的exe
打包完成后，在 `dist` 目录下会生成 `字频统计工具.exe`

**使用步骤：**
1. 将 `字频统计工具.exe` 复制到任意目录
2. 双击运行exe
3. 根据提示选择要统计的txt文件
4. 统计结果会自动保存在[字频统计结果]目录下

## 支持的编码格式
- UTF-8
- GBK / GB2312 / GB18030（简体中文）
- Big5（繁体中文）
- UTF-16

程序会自动检测文件编码，无需手动指定。

## 输出文件
统计结果会保存为 `[原文件名]_字频统计.txt`

示例：
- 输入：红楼梦.txt
- 输出：红楼梦_字频统计.txt

## 注意事项
1. 只统计中文字符（Unicode范围：\u4e00-\u9fff）
2. dict_simple.txt 已内置于exe中，无需单独携带
3. 统计大文件（>10MB）可能需要较长时间，请耐心等待

## 打包参数说明
如需自定义打包，可修改 `打包.py` 中的参数：
- `--onefile` - 打包成单个exe（不依赖其他dll）
- `--console` - 显示控制台窗口（交互式程序必须）
- `--add-data` - 将dict_simple.txt打包进exe
- `--name` - 设置exe名称

## 常见问题

### Q: 打包后运行报错找不到dict_simple.txt？
A: 确保打包.py中的 `--add-data` 参数正确设置了路径分隔符（Windows用`;`，Linux/Mac用`:`）

### Q: 统计报告中某些字显示为N/A？
A: 这些字不在dict_simple.txt的字序表中，会按出现次数降序排列在报告末尾

## 技术细节
- Python 3.x
- 使用Counter进行字频统计
- 自动编码检测
- PyInstaller打包（支持Windows/Linux/Mac）
